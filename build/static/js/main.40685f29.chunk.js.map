{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Number","person","deletePerson","name","number","onClick","Persons","persons","map","key","PersonForm","p","onSubmit","addPerson","value","newName","onChange","changeName","newNumber","changeNumber","type","Filter","filter","changeFilter","Notification","m","className","style","message","App","useState","setPersons","setNewName","setNewNumber","setFilter","notification","setNotification","useEffect","personService","responseData","personsToShow","toLowerCase","includes","event","target","preventDefault","undefined","find","window","confirm","changedNumber","returnedPerson","length","concat","setTimeout","catch","error","console","log","personsUpdated","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.40685f29.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id =>{\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, update, remove}","import React, { useState, useEffect } from 'react'\r\nimport personService from './services/persons'\r\nimport './index.css'\r\n\r\nconst Number = ({person, deletePerson}) =>{\r\n  return(\r\n    <div>\r\n      {person.name} {person.number} <button onClick ={() => deletePerson(person)}>delete</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Persons = ({persons, deletePerson}) =>{\r\n  return(\r\n    <>\r\n    {persons.map(person => <Number key = {person.id} person = {person} deletePerson = {deletePerson}/>)}\r\n    </>\r\n  )\r\n}\r\n\r\nconst PersonForm = (p) => {\r\n  return(\r\n    <form onSubmit = {p.addPerson}>\r\n      <div>\r\n        name: <input value = {p.newName} onChange = {p.changeName}/>\r\n      </div>\r\n      <div>\r\n        number: <input value = {p.newNumber} onChange = {p.changeNumber}/>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n        \r\n    </form>\r\n  )\r\n}\r\n\r\nconst Filter = ({filter, changeFilter}) =>{\r\n  return(\r\n    <form>\r\n      <div>\r\n        fitler shown with <input value = {filter} onChange = {changeFilter}/>\r\n      </div>\r\n    </form>\r\n  )\r\n\r\n}\r\n\r\nconst Notification = ({m}) => {\r\n  if (m === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={m.style}>\r\n      {m.message}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([])\r\n\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [ notification, setNotification ] = useState(null)\r\n\r\n  useEffect( () => {\r\n      personService.getAll()\r\n      .then(responseData => setPersons(responseData))\r\n    }\r\n    ,[])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    let person\r\n\r\n    if((person = persons.find(p => p.name === newName)) !== undefined){\r\n      const result  = window.confirm(`${newName} is already added to phonebook, replace de old number with a new one?`)\r\n      if(result){\r\n        const changedNumber = {...person, number : newNumber}\r\n        personService.update(person.id, changedNumber)\r\n        .then(returnedPerson => setPersons(persons.map(p => p.id === person.id? returnedPerson : p)))\r\n      }\r\n\r\n    }else{\r\n      const person = {\r\n        name : newName,\r\n        id : persons[persons.length-1].id +1,\r\n        number : newNumber\r\n      }\r\n      \r\n      personService.create(person)\r\n      .then(responseData => {\r\n        setPersons(persons.concat(responseData))\r\n\r\n        setNotification({message: `Added ${person.name}`, style :'added'})\r\n        setTimeout(() => {\r\n        setNotification(null)\r\n        }, 5000)\r\n      }).catch(error =>{\r\n        console.log(error.response.data)\r\n      })\r\n\r\n    }\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const changeName = (event) => setNewName(event.target.value)\r\n  const changeNumber = (event) => setNewNumber(event.target.value)\r\n\r\n  const changeFilter = (event) => setFilter(event.target.value)\r\n\r\n  const deletePerson = person => {\r\n    const result = window.confirm(`Delete ${person.name}?`)\r\n    if(result){\r\n      const personsUpdated = persons.filter(p => p.id !== person.id)\r\n      personService.remove(person.id)\r\n      .catch( () => {\r\n          setNotification({message: `Information about ${person.name} has already been removed from server`, style :\"deleted\"})\r\n\r\n          setTimeout(() =>\r\n            setNotification(null)\r\n          , 5000)\r\n        }\r\n      )\r\n\r\n      setPersons(personsUpdated)\r\n    }\r\n    \r\n  }\r\n\r\n  const personsToShow = filter === ''? persons : \r\n  persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n        <Notification m = {notification}/>\r\n        <Filter filter = {filter} changeFilter = {changeFilter}/>\r\n      <h3>Add a new</h3>\r\n        <PersonForm addPerson = {addPerson} newName = {newName} changeName = {changeName}\r\n           newNumber = {newNumber} changeNumber = {changeNumber}/>\r\n      <h3>Numbers</h3>\r\n        <Persons persons = {personsToShow} deletePerson ={deletePerson}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport App from './App'\nimport ReactDOM from 'react-dom';\n\n\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n"],"sourceRoot":""}